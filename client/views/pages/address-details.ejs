<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Address Details</title>
  <link rel="stylesheet" href="/assets/css/main.css" />
  <link rel="stylesheet" href="/assets/css/pages/address-details.css"/>
</head>
<body data-community-id="<%= communityId %>" data-lot-id="<%= lotId %>">
  <%- include('../partials/nav') %>
  <%- include('../partials/top-nav-community') %>

  <header class="addr-header">
    <div class="addr-left">
      <!-- Row 1: Address + General -->
      <div class="address-row">
        <h1 id="lotTitle">Loading…</h1>

      <div class="general-select-wrap">
        <label class="visually-hidden" for="generalStatusSelect">General</label>
        <select id="generalStatusSelect" class="status-select in-header">
          <option>Available</option>
          <option>SPEC</option>
          <option>Sold</option>
          <option>Closed</option>
          <option>Coming Soon</option>
          <option>Model</option>
          <option>Hold</option>
        </select>
      </div>
      </div>

      <!-- Subline -->
      <div class="sub-info">
        <span id="jobNumberValue" class="value readonly"></span> •
        <span id="lotBlockPhaseValue" class="value readonly"></span>
      </div>

      <!-- Row 2: Building + Walk -->
      <div class="status-row">
        <div class="chip chip--building in-header">
          <span class="chip__label">Building</span>
          <div id="buildingStatusValue" class="chip__value readonly"></div>
        </div>

        <div class="chip chip--walk in-header">
          <span class="chip__label">Walk</span>  <!-- ← you were missing the opening < on this span -->
          <div id="walkStatusValue" class="chip__value readonly"></div>
        </div>
      </div>
    </div>

    <div class="price-card card">
      <!-- Top: List Price -->
      <div class="field wide">
        <label for="listPriceInput">List Price</label>
        <input id="listPriceInput" class="value" inputmode="numeric" placeholder="$450,000" />
      </div>

      <!-- Bottom: Sales Price | Sales Date -->
      <div class="price-row">
        <div class="field">
          <label>Sales Price</label>
          <div id="salesPriceValue" class="value readonly price-figure"></div>
        </div>
        <div class="field">
          <label>Sales Date</label>
          <div id="salesDateValue" class="value readonly"></div>
        </div>
      </div>
    </div>

 <div class="addr-right">

   <section class="closing-card card card--grey">
  <!-- Top: status -->
  <div class="chip chip--closing"> 
    <div id="closingStatusValue" class="chip__value readonly"></div>
  </div>
  <!-- Bottom: date | time -->
  <div class="row two">
    <div class="field">
      <label>Closing Date</label>
      <div id="closingDateValue" class="value readonly"></div>
    </div>
    <div class="field">
      <label>Closing Time</label>
      <div id="closingTimeValue" class="value readonly"></div>
    </div>
  </div>
</section>
  </div>
  </header>
  <!-- CONTACT STRIP: Purchaser / Realtor / Lender -->
  <section class="contact-strip card card--grey">
    <div class="contact-card card card--white">
      <h3><span class="value readonly" id="purchaserValue" data-placeholder="No Purchaser"></span></h3>
      <div class="row two">
        <div class="field icon-field">
          <span class="icon-pill">
          <img class="icon" src="/assets/icons/phone.svg" alt="" aria-hidden="true">
          </span>
          <div id="purchaserPhoneValue" class="value readonly one-line"></div>
        </div>
        <div class="field icon-field">
          <span class="icon-pill">
          <img class="icon" src="/assets/icons/email.svg" alt="" aria-hidden="true">
          </span>
          <div id="purchaserEmailValue" class="value readonly"></div>
        </div>
      </div>
      
    </div>
    <div class="contact-card card card--white">
      <h3><span class="value readonly" id="realtorNameValue" data-placeholder="No realtor linked"></span></h3>
      <div class="row two">
        <div class="field icon-field">
          <span class="icon-pill">
          <img class="icon" src="/assets/icons/phone.svg" alt="" aria-hidden="true">
          </span>   
          <div id="realtorPhoneValue" class="value readonly" ></div>
        </div>
        <div class="field icon-field">
          <span class="icon-pill">
          <img class="icon" src="/assets/icons/email.svg" alt="" aria-hidden="true">
          </span>
          <div id="realtorEmailValue" class="value readonly"></div>
        </div>
      </div>
      
    </div>
      <div class="contact-card card card--white lender-card">
      <!-- Header row: Name (with brokerage) + Status chip on the right -->
      <div class="lender-header">
        <h3>
          <span id="lenderNameFinance" class="value readonly"></span>
        </h3>

        <!-- No label; same ID so your JS keeps populating it -->
        <div class="chip in-header" id="lenderStatusChip">
          <div id="lenderStatusValue" class="chip__value readonly"></div>
        </div>
      </div>
      <div class="row two">
        <div class="field icon-field">
          <span class="icon-pill">
          <img class="icon" src="/assets/icons/phone.svg" alt="" aria-hidden="true">
          </span>
          <div id="lenderPhoneFinance" class="value readonly"></div></div>
        <div class="field icon-field">
          <span class="icon-pill">
          <img class="icon" src="/assets/icons/email.svg" alt="" aria-hidden="true">
          </span>
          <div id="lenderEmailFinance" class="value readonly"></div>
       </div>
      </div>
      
    </div>
  </section>

  <!-- MAIN GRID: Left (Building Info), Right (Design Center) -->
  <main class="grid">
    <!-- LEFT COLUMN: Building Info (stacked cards) -->
    <section class="pane pane--left">
     <div class="card">
        <h2>Building Info</h2>
        <div class="form-grid">

           <div class="field wide">
            <label for="buildingStatusSelect">Building Status</label>
            <select id="buildingStatusSelect" class="value">
              <option value="Not-Started">Not Started</option>
              <option value="Under-Construction">Under Construction</option>
              <option value="Finished">Finished</option>
            </select>
          </div>
          <!-- Row 1: Floor Plan | Elevation -->
          <div class="field">
            <label for="floorPlanSelect">Floor Plan</label>
            <select id="floorPlanSelect" class="value">
              <option value="" disabled selected>— Select Floor Plan —</option>
            </select>
          </div>
          <div class="field">
            <label for="elevationInput">Elevation</label>
            <input id="elevationInput" class="value" />
          </div>

          <!-- Row 2: Release Date | Expected Completion -->
          <div class="field">
            <label for="releaseDateInput">Release Date</label>
            <input id="releaseDateInput" type="date" class="value" />
          </div>
          <div class="field">
            <label for="expectedCompletionInput">Expected Completion Date</label>
            <input id="expectedCompletionInput" type="date" class="value" />
          </div>

          <!-- Row 3: Building Status (full width so it doesn't break the pairs) -->
         
        </div>
      </div>

  

      <div class="card">
        <h2>Walk Status</h2>
        <div class="row two">
          <div class="field">
            <label for="walkStatusSelect">Overall</label>
            <select id="walkStatusSelect" class="value">
              <option value="waitingOnBuilder">Waiting on Builder</option>
              <option value="datesSentToPurchaser">Dates Sent to Purchaser</option>
              <option value="datesConfirmed">Dates Confirmed</option>
              <option value="thirdPartyComplete">3rd Party Complete</option>
              <option value="firstWalkComplete">1st Walk Complete</option>
              <option value="finalSignOffComplete">Final Sign Off Complete</option>
            </select>
          </div>
          <div class="field">
            <label for="closingStatusSelect">Closing Status</label>
            <select id="closingStatusSelect" class="value">
              <option value="notLocked">Not Locked</option>
              <option value="locked">Locked</option>
              <option value="underwriting">Underwriting</option>
              <option value="clearToClose">Clear to Close</option>
            </select>
          </div>
        </div>
        <div class="walks-grid">
          <div class="field">
            <label for="thirdPartyDate">3rd Party</label>
            <div class="row inline">
              <input id="thirdPartyDate" type="date" class="value" />
              <input id="thirdPartyTime"    type="time" class="value" step="60" min="00:00" max="23:59" autocomplete="off" />
              <button id="thirdPartyTimeClear" type="button" class="icon-btn" title="Clear time">×</button>
            </div>
          </div>
          <div class="field">
            <label for="firstWalkDate">1st Walk</label>
            <div class="row inline">
              <input id="firstWalkDate" type="date" class="value" />
              <input id="firstWalkTime"     type="time" class="value" step="60" min="00:00" max="23:59" autocomplete="off" />
              <button id="firstWalkTimeClear" type="button" class="icon-btn" title="Clear time">×</button>
            </div>
          </div>
          <div class="field">
            <label for="finalSignOffDate">Final Sign Off</label>
            <div class="row inline">
              <input id="finalSignOffDate" type="date" class="value" />
              <input id="finalSignOffTime"  type="time" class="value" step="60" min="00:00" max="23:59" autocomplete="off" />
              <button id="finalSignOffTimeClear" type="button" class="icon-btn" title="Clear time">×</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- RIGHT COLUMN: Design Center / Selections -->
    <aside class="pane pane--right">
      <div class="card fill">
        <h2>Design Center / Selections</h2>
        <div id="designNotes" class="notes" contenteditable> Coming soon</div>
        <div class="chip chip--dc">
        <span class="chip__label">Design Status</span>
        <div id="designCenterStatusValue" class="chip__value readonly"></div>
      </div>
      </div>
    </aside>
  </main>

  <script type="module" src="/assets/js/address-details/index.js"></script>
</body>
</html>