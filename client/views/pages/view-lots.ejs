<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>View Lots</title>
  <link rel="stylesheet" href="/assets/css/main.css">
</head>
<body>
  <%- include('../partials/nav') %>
  <%- include('../partials/top-nav-community') %>

<!-- TOP BAR (re-using Contacts topbar classes) -->
<div id="lotsTopBar" class="contact-topbar">
  <div class="topbar-left">
    <label for="vl-community" class="visually-hidden">Community</label>
    <select id="vl-community" class="form-select form-select-sm" style="min-width: 260px;">
      <!-- populated by JS -->
    </select>

    <!-- Search -->
    <div style="min-width: 260px; max-width: 420px;">
      <input id="vl-search" class="form-control form-control-sm" placeholder="Search address..." />
    </div>

    <!-- Total -->
    <div class="topbar-total">
      <span class="total-label">Total:</span>
      <span id="vl-count" class="total-value">0</span>
    </div>
  </div>

  <!-- Filter pills (visual now; wire later) -->
  <div class="topbar-filters" id="vl-statusFilters">
    <button class="status-pill" id="vl-filter-available" data-filter="available">
      <span class="label">Available</span>
    </button>
    <button class="status-pill" id="vl-filter-spec" data-filter="spec">
      <span class="label">SPEC's</span>
    </button>
    <button class="status-pill" id="vl-filter-coming" data-filter="comingSoon">
      <span class="label">Coming Soon</span>
    </button>
    <button class="status-pill" id="vl-filter-sold" data-filter="sold">
      <span class="label">Sold</span>
    </button>
  </div>
</div>

<div class="table-container">
  <table id="lotsTable">
    <thead>
      <tr>
        <th>Job #</th>
        <th>Lot / Block / Phase</th>
        <th>Address</th>
        <th>Plan</th>
        <th>Elv</th>
        <th>Home Status</th>
        <th>Purchaser</th>
        <th>Phone</th>
        <th>Email</th>
        <th>Release Date</th>
        <th>Expected Completion</th>
        <th>Close Month</th>
        <th>3rd Party</th>
        <th>1st Walk</th>
        <th>Final Sign Off</th>
        <th>Lender</th>
        <th>Close Date/Time</th>
        <th>List Price</th>
        <th>Sales Price</th>
      </tr>
    </thead>
    <tbody id="lotsTableBody"></tbody>
  </table>
</div>

   <script type="module" src="/assets/js/view-lots/index.js"></script>
</body>
</html>
