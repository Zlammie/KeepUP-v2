<!-- address-details.html: updated inputs/selects for auto-save fields -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Lot Details</title>
  <link rel="stylesheet" href="/assets/css/community.css">
</head>
<body data-community-id="" data-lot-id="">
  <div id="top-bar"></div>
  <div id="side-bar"></div>

  <h1 id="lotTitle">Loading…</h1>

  <!-- Status Bar -->
  <section class="section status-section">
    <div class="status-bar">
      <div class="status-general">
        <label>General Status</label>
        <div id="generalStatusValue" class="value readonly"></div>
      </div>
      <div class="status-building">
        <label>Building Status</label>
        <div id="buildingStatusValue" class="value readonly"></div>
        <label class="sub-label">Start Date</label>
        <div id="startDateValue" class="value readonly"></div>
      </div>
      <div class="status-walk">
        <label>Walk Status</label>
        <div id="walkStatusValue" class="value readonly"></div>
        <div class="walk-details">
          <div class="field small">
            <label>1st Walk</label>
            <div id="firstWalkValue" class="value readonly"></div>
          </div>
          <div class="field small">
            <label>Final Sign Off</label>
            <div id="finalSignOffValue" class="value readonly"></div>
          </div>
        </div>
      </div>
      <div class="status-lender">
        <label>Lender Status</label>
        <div id="lenderStatusValue" class="value readonly"></div>
      </div>
      <div class="status-closing">
        <label>Closing Status</label>
        <div id="closingStatusValue" class="value readonly"></div>
        <label class="sub-label">Closing Date</label>
        <div id="closingDateValue" class="value readonly"></div>
      </div>
    </div>
  </section>

  <!-- Main details container -->
  <div class="details-container">
    <!-- Left column: General Info + Walks & Close -->
    <div class="left-column">
      <section class="section general-section" id="section1">
        <h2>General Info</h2>
        <div class="general-grid">
          <div class="field job-area">
            <label for="jobNumberValue">Job Number</label>
            <div id="jobNumberValue" class="value readonly"></div>
          </div>
          <div class="field lot-area">
            <label for="lotBlockPhaseValue">Lot / Block / Phase</label>
            <div id="lotBlockPhaseValue" class="value readonly"></div>
          </div>
          <div class="field address-area">
            <label for="addressValue">Address</label>
            <div id="addressValue" class="value readonly"></div>
          </div>
         <div class="field">
          <label for="floorPlanSelect">Floor Plan</label>
          <select id="floorPlanSelect" class="value">
            <option value="" disabled selected>— Select Floor Plan —</option>
          </select>
        </div>
          <div class="field">
            <label for="elevationInput">Elevation</label>
            <input id="elevationInput" class="value" />
          </div>
          <div class="field">
            <label for="buildingStatusSelect">Building Status</label>
            <select id="buildingStatusSelect" class="value">
              <option value="Not-Started">Not Started</option>
              <option value="Under-Construction">Under Construction</option>
              <option value="Finished">Finished</option>
            </select>
          </div>
          <div class="field">
            <label for="releaseDateInput">Release Date</label>
            <input id="releaseDateInput" type="date" class="value" />
          </div>
          <div class="field">
            <label for="expectedCompletionInput">Expected Completion</label>
            <input id="expectedCompletionInput" type="date" class="value" />
          </div>
          <div class="field">
            <label for="closeMonthInput">Close Month</label>
            <input id="closeMonthInput" type="month" class="value" />
          </div>
        </div>
      </section>

      <section class="section walks-section" id="walks-close">
        <h2>Walks & Close</h2>
        <div class="field">
          <label for="firstWalkValue">1st Walk</label>
          <div id="firstWalkValue" class="value readonly"></div>
        </div>
        <div class="field">
          <label for="finalSignOffValue">Final Sign Off</label>
          <div id="finalSignOffValue" class="value readonly"></div>
        </div>
      </section>
    </div>

    <!-- Right column: Purchaser, Realtor, Lender Info -->
    <aside class="section info-box side-column" id="purchaser-realtor-box">
      <h2>Purchase & Realtor Info</h2>
      <div class="info-grid">
        <!-- Purchaser -->
        <div class="purchaser-col">
          <h3>Purchaser</h3>
          <div class="field">
            <label>Last Name</label>
            <div id="purchaserValue" class="value readonly"></div>
          </div>
          <div class="field">
            <label>Phone</label>
            <div id="purchaserPhoneValue" class="value readonly"></div>
          </div>
          <div class="field">
            <label>Email</label>
            <div id="purchaserEmailValue" class="value readonly"></div>
          </div>
        </div>
        <!-- Realtor -->
        <div class="realtor-col">
          <h3>Realtor</h3>
          <div class="field">
            <label>Name</label>
            <div id="realtorNameValue" class="value readonly"></div>
          </div>
          <div class="field">
            <label>Phone</label>
            <div id="realtorPhoneValue" class="value readonly"></div>
          </div>
          <div class="field">
            <label>Email</label>
            <div id="realtorEmailValue" class="value readonly"></div>
          </div>
        </div>
        <!-- Lender -->
        <div class="lender-col">
          <h3>Lender</h3>
          <div class="field">
            <label>Name</label>
            <div id="lenderNameFinance" class="value readonly"></div>
          </div>
          <div class="field">
            <label>Phone</label>
            <div id="lenderPhoneFinance" class="value readonly"></div>
          </div>
          <div class="field">
            <label>Email</label>
            <div id="lenderEmailFinance" class="value readonly"></div>
          </div>
        </div>
      </div>
    </aside>
  </div>

  <!-- Autosave controls need only blur/change - no save button needed -->

  <script>
    // Load navs
    fetch('/nav.html')
      .then(res => res.text()).then(html => document.getElementById('side-bar').innerHTML = html);
    fetch('/top-nav-community.html')
      .then(res => res.text()).then(html => document.getElementById('top-bar').innerHTML = html);
  </script>

  <script src="/assets/js/addressDetails.js"></script>
</body>
</html>
