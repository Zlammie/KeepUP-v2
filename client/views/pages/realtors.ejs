<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Saved Realtors</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="/assets/css/main.css">
</head>
<body class="container mt-5">
  <%- include('../partials/nav') %>
  <%- include('../partials/top-nav-contacts') %>

  <!-- Realtors Top Bar -->
  <div class="contact-topbar" id="realtorsTopBar">
    <div class="topbar-left" style="gap:12px;">
      <input id="realtorSearch" class="form-control form-control-sm" type="search"
             placeholder="Search name, email, phone, brokerage" />
      <div class="topbar-total">
        <span class="total-label">Total:</span>
        <span id="realtorTotal" class="total-value">0</span>
      </div>
    </div>

    <div class="topbar-filters" id="realtorFilters">
      <button class="status-pill active" data-filter="all">
        <span class="label">All</span>
        <span class="value" data-count="all">0</span>
      </button>
      <button class="status-pill has-purchased" data-filter="has-purchased">
        <span class="label">Has Purchased</span>
        <span class="value" data-count="has-purchased">0</span>
      </button>
      <button class="status-pill has-negotiation" data-filter="has-negotiation">
        <span class="label">Has Negotiation</span>
        <span class="value" data-count="has-negotiation">0</span>
      </button>
      <button class="status-pill has-closed" data-filter="has-closed">
        <span class="label">Has Closed</span>
        <span class="value" data-count="has-closed">0</span>
      </button>
    </div>

    <button id="resetRealtorFilters" class="btn btn-sm btn-outline-secondary">Reset</button>
    <button id="toggleDeleteMode" class="btn btn-sm btn-outline-danger">Delete</button>
  </div>

  <table class="table table-bordered" id="realtorsTable">
      <colgroup>
        <col style="width: 25px;">  <!-- Task icon -->
        <col style="width: 25px;">  <!-- Flag icon -->
        <col style="width: 25px;">  <!-- Comment icon -->
        <col style="width: 72px;">  <!-- View btn -->
        <col style="width: 12%;">   <!-- First Name -->
        <col style="width: 12%;">   <!-- Last Name -->
        <col style="width: 18%;">   <!-- Email -->
        <col style="width: 12%;">   <!-- Phone -->
         <col style="width:220px;"><!-- Brokerage: FIXED PX WIDTH -->
        <col style="width: 6%;">    <!-- Contacts (count) -->
        <col style="width: 6%;">    <!-- Purchased (count) -->
        <col style="width: 6%;">    <!-- Negotiation (count) -->
        <col style="width: 6%;">    <!-- Closed (count) -->
      </colgroup>
    <thead>
      <tr>
        <th><span class="visually-hidden">Task</span></th>     <!-- ðŸ“‹ -->
        <th><span class="visually-hidden">Flag</span></th>     <!-- ðŸš© -->
        <th><span class="visually-hidden">Comment</span></th>  <!-- ðŸ’¬ -->
        <th><span class="visually-hidden">View</span></th>     <!-- ðŸ”Ž -->
        <th>First Name</th>
        <th>Last Name</th>
        <th>Email</th>
        <th>Phone</th>
        <th>Brokerage</th>
        <th>Contacts</th>
        <th>Purchased</th>
        <th>Negotiation</th>
        <th>Closed</th>
        <th class="col-delete d-none"><span class="visually-hidden">Delete</span></th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <!-- Realtor Comment Modal -->
<div id="realtorCommentModal" class="modal-overlay" style="display: none;">
  <div class="modal-content">
    <h5>Add Comment</h5>

    <div class="comment-type-nav" id="realtor-modal-comment-type-buttons">
      <button type="button" data-type="Note" class="active" title="Note">
        <img src="/assets/icons/note.svg" alt="Note" />
      </button>
      <button type="button" data-type="Phone" title="Phone">
        <img src="/assets/icons/phone.svg" alt="Phone" />
      </button>
      <button type="button" data-type="Email" title="Email">
        <img src="/assets/icons/email.svg" alt="Email" />
      </button>
      <button type="button" data-type="Text" title="Text">
        <img src="/assets/icons/sms.svg" alt="Text" />
      </button>
    </div>

    <textarea id="realtor-modal-comment-text" rows="4" placeholder="Add a comment..."></textarea>
    <br />
    <button id="saveRealtorModalComment" class="btn btn-primary btn-sm">Save</button>
    <button id="cancelRealtorModalComment" class="btn btn-secondary btn-sm">Cancel</button>
  </div>
</div>


  <!-- module entry (no inline script) -->
  <script type="module" src="/assets/js/realtors/index.js"></script>
</body>
</html>
