<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Simple CRM</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link rel="stylesheet" href="/assets/css/nav.css">
  <link rel="stylesheet" href="/assets/css/top-nav.css">
</head>
<body>
  <div id="top-bar"></div>
  <div id="navbar"></div>
  <h1>HOME</h1>

  <script>
   fetch('/nav.html')
    .then(res => res.text())
    .then(html => {
      const container = document.getElementById('navbar'); // or whatever your nav container is
      container.innerHTML = html;

      // After nav is in DOM, apply active class
      const currentPath = window.location.pathname.split('/').pop(); // e.g. "contacts.html"
      const navLinks = container.querySelectorAll('.nav-items-container a');

      navLinks.forEach(link => {
        const href = link.getAttribute('href');
        if (href === currentPath || href === './' + currentPath) {
          link.closest('li').classList.add('active');
        }
      });
      })
      .catch(err => console.error('Failed to load nav:', err));

    // Load top navbar
  fetch('/top-nav-contacts.html')
  .then(res => res.text())
  .then(data => {
    document.getElementById('top-bar').innerHTML = data;
  })
  .catch(err => console.error('Failed to load top navbar:', err));

  // Wait for DOM and nav to load
  window.addEventListener('DOMContentLoaded', () => {
    const currentPath = window.location.pathname.split('/').pop(); // e.g. "contacts.html"
    const navLinks = document.querySelectorAll('.nav-items-container a');

    navLinks.forEach(link => {
      if (link.getAttribute('href') === currentPath) {
        link.closest('li').classList.add('active');
      }
    });
  });


  </script>
</body>
</html>