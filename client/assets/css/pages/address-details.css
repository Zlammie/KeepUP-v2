/* =========================================
   Address Details — FULL STYLESHEET (light)
   Layout: Header (Address | Price | Chips)
           Contact strip (3 cards)
           Main grid (left forms | right notes)
   ========================================= */

/* ---------- Theme tokens (tweak to taste) ---------- */
:root{
  --card-bg: #fff;
  --card-border: #ddd;
  --text: #222;
  --muted: #666;

  /* contact icon pills */
  --icon-pill: 28px;        /* pill size */
  --icon-glyph: 18px;       /* glyph inside pill */
  --icon-gap: 8px;          /* spacing between pill and text */
  --icon-pill-bg: #dbe4ee;
  --icon-pill-border: #b8c6d8;
  --icon-color: #0f172a;
}

/* helpers */
* { box-sizing: border-box; }

/* =========================================
   HEADER: Address | Price | Chips
   ========================================= */
.addr-header{
  display: grid;
  grid-template-columns: 1.25fr 0.9fr 1.2fr;  /* address | price | chips */
  align-items: start;
  gap: 16px;
  padding: 8px 16px;
}
.addr-header > * { min-width: 0; } /* allow shrink without overflow */

/* Map header children by position (works with your current EJS) */
.addr-header > :nth-child(1) { /* address block */ }
.addr-header > :nth-child(2) { /* price block  */ }
/* third child already has .addr-right in your EJS */

/* Address typography */
.addr-header > :nth-child(1) h1,
.addr-header > :nth-child(1) #lotTitle,
.addr-header > :nth-child(1) #addressValue{
  font-size: 1.6rem;
  margin: 0;
  line-height: 1.2;
  color: var(--text);
  white-space: normal;
  word-break: break-word;
}
.addr-header > :nth-child(1) .sub-info{
  margin-top: 4px;
  font-size: 0.92rem;
  color: var(--muted);
  font-weight: 400;
}

/* Price card (the .card inside header second column) */
.addr-header > :nth-child(2) .card{
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  color: var(--text);
  border-radius: 12px;
  padding: 10px 12px;
  overflow: hidden; /* never overlap neighbors */
}
.addr-header > :nth-child(2) .row.two{
  display: grid;
  grid-template-columns: repeat(2, minmax(0,1fr));
  gap: 12px;
}
.addr-header > :nth-child(2) .row.three{
  display: grid;
  grid-template-columns: repeat(3, minmax(0,1fr));
  gap: 12px;
}
.addr-header > :nth-child(2) .field label{ font-size: .78rem; color: #555; }
.addr-header > :nth-child(2) .value,
.addr-header > :nth-child(2) input{ padding: 6px 8px; }

/* Chip bar (third column) */
.addr-right .chipbar{
  display: grid;
  gap: 8px;
  padding: 8px;
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  border-radius: 12px;
  /* exact stacking */
  grid-template-columns: repeat(3, minmax(180px, 1fr));
  grid-template-areas:
    "general  general  general"
    "building dc       lender"
    "walk     closing  closing";
  align-items: stretch;
  box-sizing: border-box;
}
.chip--general  { grid-area: general; }
.chip--building { grid-area: building; }
.chip--dc       { grid-area: dc; }
.chip--lender   { grid-area: lender; }
.chip--walk     { grid-area: walk; }
.chip--closing  { grid-area: closing; }

.chip{
  display: grid;
  grid-template-columns: auto 1fr;  /* label | value */
  align-items: center;
  gap: 6px;
  width: 100%;
  padding: 6px 10px;
  border-radius: 8px;
  background: #f9f9f9;
  border: 1px solid var(--card-border);
  color: var(--text);
}
.chip__label{ font-size: .8rem; opacity: .8; white-space: nowrap; }
.chip__value{
  font-weight: 600;
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;              /* change to normal to wrap long statuses */
}

/* Optional badge style for statuses rendered as innerHTML */
.status-badge{
  display:inline-block;
  padding:2px 6px;
  border-radius:999px;
  font-size:.78rem;
  border:1px solid #e5e7eb;
  background:#f3f4f6;
}

/* =========================================
   CONTACT STRIP (3 cards in a row)
   ========================================= */
.contact-strip{
  display: grid;                                      /* ensure a row */
  grid-template-columns: repeat(3, minmax(260px, 1fr));
  gap: 12px;
  padding: 8px 16px 16px;
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  border-radius: 12px;
}
.contact-card{
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  color: var(--text);
  border-radius: 12px;
  padding: 12px;
}
.contact-card h3{ font-size:.95rem; margin:0 0 8px; opacity:.9; }

/* Phone | Email row: give Email a bit more room than Phone */
.contact-card .row.two{
  display: grid;
  grid-template-columns: 0.85fr 1.15fr;
  gap: 8px;
}
.contact-card .field{ min-width: 0; }

/* Flatten read-only values in contact cards (look like text, not inputs) */
.contact-card .field .value.readonly{
  padding: 0 !important;
  border: 0 !important;
  min-height: 0 !important;
  background: transparent !important;
  margin: 0 !important;
  line-height: 1.2;
  color: var(--text);
}

/* Icon + value layout inside each field */
.contact-card .row.two .field{
  display: grid;
  grid-template-columns: var(--icon-pill) 1fr; /* pill | value */
  align-items: center;
  column-gap: var(--icon-gap);
}

/* The first child icon becomes a rounded pill.
   Works for <img class="icon">, <svg class="icon">, or <i class="icon"> */
.contact-card .row.two .field > .icon,
.contact-card .row.two .field > img.icon,
.contact-card .row.two .field > svg.icon,
.contact-card .row.two .field > i.icon{
  display: inline-grid;
  place-items: center;
  width: var(--icon-pill);
  height: var(--icon-pill);
  border-radius: 999px;
  background: var(--icon-pill-bg);
  border: 1px solid var(--icon-pill-border);
  color: var(--icon-color);         /* for inline SVGs / icon fonts */
  line-height: 1;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

/* Size the glyph itself */
.contact-card .row.two .field > svg.icon{
  width: var(--icon-glyph);
  height: var(--icon-glyph);
  fill: currentColor;
}
.contact-card .row.two .field > img.icon{
  width: var(--icon-glyph);
  height: var(--icon-glyph);
  object-fit: contain;
}
.contact-card .row.two .field > i.icon{
  font-size: var(--icon-glyph);
  line-height: 1;
}

/* Phone stays one line; Email can wrap nicely */
.one-line{
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-variant-numeric: tabular-nums;
}
.wrap{
  white-space: normal;
  overflow-wrap: anywhere;
  word-break: break-word;
}

/* =========================================
   MAIN GRID (left forms | right notes)
   ========================================= */
.grid{
  display: grid;
  grid-template-columns: 1.2fr 0.8fr;
  gap: 16px;
  padding: 0 16px 32px;
}
.pane .card{
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  color: var(--text);
  border-radius: 14px;
  padding: 14px;
  margin-bottom: 16px;
}
.card.fill{
  height: 100%;
  display: flex;
  flex-direction: column;
}
.card h2{ font-size:1rem; margin:0 0 10px; }

/* Forms / fields */
.form-grid{
  display: grid;
  grid-template-columns: repeat(2, minmax(0,1fr));
  gap: 12px;
}
.form-grid .field.wide{ grid-column: span 2; }

.row.two   { display:grid; grid-template-columns: repeat(2, 1fr); gap:12px; }
.row.three { display:grid; grid-template-columns: repeat(3, 1fr); gap:12px; }
.row.inline{ display:flex; gap:8px; align-items:center; }

.field label{
  display:block;
  font-size:.8rem;
  color: var(--muted);
  margin-bottom:4px;
}
.field .value.readonly{
  padding:8px 10px;
  border:1px dashed rgba(0,0,0,.18);
  border-radius:8px;
  min-height:36px;
  display:flex;
  align-items:center;
  background:#fafafa;
}

/* Light inputs to match cards */
.field input,
.field select,
.notes{
  width: 100%;
  padding: 8px 10px;
  border-radius: 8px;
  border: 1px solid #ccc;
  background: #fff;
  color: var(--text);
}

/* Walks block */
.walks-grid{
  display: grid;
  grid-template-columns: 1fr;
  gap: 12px;
}

/* Notes area */
.notes{
  min-height: 420px;
  border: 1px dashed #bbb;
}

.placeholder:empty::before {
  content: attr(data-placeholder);
  color: var(--muted, #666);
  font-style: italic;
  opacity: .9;
}

/* Keep layout tidy even when empty (no input-box styling) */
.contact-card .placeholder.value.readonly {
  padding: 0 !important;
  border: 0 !important;
  min-height: 0 !important;
  background: transparent !important;
}

/* =========================================
   RESPONSIVE
   ========================================= */

/* Chipbar tightens to two columns when space is limited */
@media (max-width: 1350px){
  .addr-right .chipbar{
    grid-template-columns: repeat(2, minmax(180px, 1fr));
    grid-template-areas:
      "general  general"
      "building dc"
      "lender   lender"
      "walk     closing";
  }
}

/* At ~1200px, stack the price card under the address (chips keep the right column) */
@media (max-width: 1200px){
  .addr-header{
    grid-template-columns: 1.1fr 0.9fr;        /* address | right stack */
    grid-auto-flow: row;
    grid-template-areas:
      "addr-left  addr-right"
      "price-card addr-right";
  }
  /* map by position since EJS doesn’t name the first two blocks */
  .addr-header > :nth-child(1){ grid-area: addr-left;  }
  .addr-header > :nth-child(2){ grid-area: price-card; }
  .addr-right{ grid-area: addr-right; }
}

/* One-column header on smaller screens */
@media (max-width: 900px){
  .addr-header{
    grid-template-columns: 1fr;
    grid-template-areas:
      "addr-left"
      "price-card"
      "addr-right";
  }
}

/* Contact strip columns collapse */
@media (max-width: 1200px){
  .contact-strip{ grid-template-columns: repeat(2, minmax(260px, 1fr)); }
}
@media (max-width: 700px){
  .contact-strip{ grid-template-columns: 1fr; }
}

/* Main content collapses to single column */
@media (max-width: 1100px){
  .grid{ grid-template-columns: 1fr; }
}
